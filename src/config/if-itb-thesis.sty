%-------------------------------------------------------------------%
%
% Konfigurasi dokumen LaTeX untuk laporan tesis IF ITB
%
% @author Petra Novandi
%
%-------------------------------------------------------------------%
%
% Berkas asli berasal dari Steven Lolong
%
%-------------------------------------------------------------------%




%===============================================================================
% Required Package
%===============================================================================
\usepackage{etoolbox}                % Latex Command modification
\usepackage[dvipsnames]{xcolor}      % Colors
\usepackage{graphicx}                % Fancy Graphics
\usepackage{blindtext}               % Lorem ipsum filling
\usepackage{chngcntr}                % Set counter
\usepackage{parskip}                 % Space between paragraph
\usepackage{ragged2e}                % Justify paragraph
\usepackage{caption}                 % Caption on figures, tables, etc
\usepackage{enumitem}                % Cuztomize enumerate & itemize
\usepackage{textcase}                % MakeTextUppercase & lower
\usepackage{setspace}                % Set text spacing
\usepackage{afterpage}               % Figures on the next page
\usepackage{amsmath,amsfonts}        % Latex math typesetting
\usepackage{todonotes}               % Todo in document
\usepackage{relsize}                 % Change text size
\usepackage{pgfplots}                % Plot & graph
\usepackage{pdfpages}
% \usepackage{titling}               % Make title



%===============================================================================
% Document Configurations
%===============================================================================
\renewcommand{\baselinestretch}{1.5}                          % Line Spacing
\special{papersize=210mm,297mm}                               % Paper Size
\usepackage[top=3cm,bottom=4cm,left=4cm,right=3cm]{geometry}  % Margin
% \usepackage[bahasa]{babel}                                    % Bahasa
\usepackage[utf8]{inputenc}                                   % encoding
\usepackage{times}                                            % Font

\makeatletter
\renewcommand\Large{\@setfontsize\large{14pt}{18}}
\makeatother


%===============================================================================
% titlesec (judul bab & subbab) Configuration
%===============================================================================
% Required Package
\usepackage{titlesec}

% Chapter style
% \chapterfont{\centering \large}
\titleformat{\chapter}[display]
  {\large\centering\bfseries}
  {\chaptertitlename\ \thechapter}{0pt}
    {\large\bfseries\uppercase}
\titlespacing*{\chapter}{0pt}{-25pt}{40pt}

% section
\titleformat*{\section}{\bfseries\normalsize}
\titleformat*{\subsection}{\bfseries\normalsize}
\titleformat{\subparagraph}
    {\normalfont\normalsize\bfseries}{\thesubparagraph}{1em}{}
\titlespacing*{\section} {0pt}{2.5ex plus 1ex minus .2ex}{1.3ex plus .2ex}
\titlespacing*{\subsection} {0pt}{2.25ex plus 1ex minus .2ex}{0.5ex plus .2ex}
\titlespacing*{\subparagraph}{\parindent}{3.25ex plus 1ex minus .2ex}{.75ex plus .1ex}

% paragraph, used in appendix
\renewcommand{\theparagraph}{\Alph{paragraph}. }        % set counter
\titleformat{\paragraph}[block]                         % paragraph style
  {\normalsize\bfseries}
  {Lampiran \theparagraph}{0pt}
    {\normalsize\bfseries}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}



%===============================================================================
% titletoc Configuration
%===============================================================================
\usepackage{titletoc}


\renewcommand{\contentsname}{DAFTAR ISI}
\renewcommand{\listfigurename}{DAFTAR GAMBAR}
\renewcommand{\figurename}{Gambar}
\renewcommand{\tablename}{Tabel}

\titlecontents{chapter}[0pt]
              {\bfseries}
              {BAB \hspace*{1.8em} \contentslabel{2em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}

\titlecontents{section}[3em] % ie, 1.5em (chapter) + 2.3em
              {}
              {\contentslabel{2.3em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}
\titlecontents{subsection}[6em] % ie, 1.5em (chapter) + 2.3em
              {}
              {\contentslabel{2.9em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}
\titlecontents{subsubsection}[9em] % ie, 1.5em (chapter) + 2.3em
              {}
              {\contentslabel{3.6em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}

% Appendices
\titlecontents{paragraph}[0em] % ie, 1.5em (chapter) + 2.3em
              {}
              {Lampiran \hspace*{1.6em} \contentslabel{1.6em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}

% LoF & LoT
\contentsuse{figure}{lof}
\titlecontents{figure}[0em] % ie, 1.5em (chapter) + 2.3em
              {}
              {Gambar \hspace*{2.1em} \contentslabel{2.3em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}
\contentsuse{table}{lot}
\titlecontents{table}[0em] % ie, 1.5em (chapter) + 2.3em
              {}
              {Tabel \hspace*{2.1em} \contentslabel{2.3em}}{}
              {\titlerule*[0.35pc]{.}\contentspage}


%===============================================================================
% Table of Content & sections Configuration
%===============================================================================
\setcounter{secnumdepth}{4}   % Set maximum depth of numbering on sections
\setcounter{tocdepth}{3}      % Set maximum depth of sections on ToC

% Counter untuk figure dan table.
\counterwithin{figure}{chapter}
\counterwithin{table}{chapter}


%===============================================================================
% pgfplots
%===============================================================================
\pgfplotsset{
    discard if not/.style 2 args={
        x filter/.code={
            \edef\tempa{\thisrow{#1}}
            \edef\tempb{#2}
            \ifx\tempa\tempb
            \else
                \def\pgfmathresult{inf}
            \fi
        }
    },
    every axis legend/.append style={
        at={(1.02,1)},
        anchor=north west,
    },
}
\usepgfplotslibrary{units}
\renewcommand{\axisdefaultwidth}{10cm}
\renewcommand{\axisdefaultheight}{8.5cm}




%===============================================================================
% Disable Hyphenation
%===============================================================================
\hyphenpenalty=10000
\tolerance=1
\lefthyphenmin=99
\righthyphenmin=99
\sloppy


%===============================================================================
% Bibliography Configuration
%===============================================================================
\usepackage[natbibapa]{apacite}       % citation: natbib dengan format apacite
\bibliographystyle{apacite}

% Ubah 'and' -> 'dan', 'et. al' -> 'dkk'
\renewcommand{\BBAA}{dan}  % between authors in parenthetical cites and ref. list
\renewcommand{\BBAB}{dan}  % between authors in in-text citation
\renewcommand{\BAnd}{dan}  % for ``Ed. \& Trans.'' in ref. list
\renewcommand{\BOthers}{dkk}

% Ubah References -> DAFTAR PUSTAKA
\renewcommand{\bibname}{DAFTAR PUSTAKA}

%===============================================================================
% Table Configuration
%===============================================================================
% Required package
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{tabularx}

% New column type -> fixed column width with certain column alignment
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\renewcommand{\arraystretch}{1.2}         % space between table border & content
\renewcommand{\lightrulewidth}{0.02em}    % width of light (middle) table border
\renewcommand{\heavyrulewidth}{0.1em}     % width of heavy (top & bottom) table border


%===============================================================================
% listing (code) Configuration
%===============================================================================
% Required package
\usepackage{listings}

% Create config for line number format
\makeatletter
\def\lst@numbersymbol{}
\lst@Key{numbersymbol}{}{\def\lst@numbersymbol{#1}}
\lst@Key{numbers}{none}{%
    \let\lst@PlaceNumber\@empty
    \lstKV@SwitchCases{#1}%
    {none&\\%
     left&\def\lst@PlaceNumber{\llap{\normalfont
                \lst@numberstyle{\thelstnumber\lst@numbersymbol}\kern\lst@numbersep}}\\%
     right&\def\lst@PlaceNumber{\rlap{\normalfont
                \kern\linewidth \kern\lst@numbersep
                \lst@numberstyle{\lst@numbersymbol\thelstnumber}}}%
    }{\PackageError{Listings}{Numbers #1 unknown}\@ehc}}
\makeatother

% Change 'Listing' -> 'Source Code'
\renewcommand{\lstlistingname}{\textit{Source Code}}
% 'List of Listing' -> 'Daftar Source Code'
\renewcommand{\lstlistlistingname}{Daftar of \lstlistingname}

% listing Style
\lstset{
    float=tp,
    floatplacement=tbp,
    abovecaptionskip=0pt,
    belowcaptionskip=10pt,
    breaklines=true,
    breakatwhitespace=false,
    frame=single,
    xleftmargin=2em,
    framexleftmargin=1.5em,
    numbersep=1.5em,
    numbers=left,
    numbersymbol=:,
    numberstyle=\tiny\color{gray!75!black},
    stepnumber=1,
    language=C,
    basicstyle=\linespread{1.15}\footnotesize\ttfamily\color{black},
    keywordstyle=\bfseries\color{green!40!black},
    commentstyle=\itshape\color{purple!40!black},
    stringstyle=\color{orange},
}
\lstMakeShortInline[columns=fixed]|                 % Inline listing



%===============================================================================
% fancyvrb (code) Configuration
%===============================================================================
% Required Package
\usepackage{fancyvrb}

% fancyvrb style
\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}{
  fontsize=\relsize{-2},
  baselinestretch=0.75,
  frame=lines,                            % top and bottom rule only
  framesep=1.5em,                         % separation between frame and text
  labelposition=topline,
}

%===============================================================================
% hyperref must be (one of) the last package to be loaded
%===============================================================================
\usepackage{hyperref}                % Link di daftar isi.
\usepackage{hypcap}                  % Link captions



%===============================================================================
% algorithmicx (pseudocode) Configuration
%===============================================================================

% Required package
\usepackage[chapter]{algorithm}
\usepackage{algorithmicx}
\usepackage[noend]{algpseudocode}

% Change 'Algorithm' -> Pseudocode
\makeatletter
  \renewcommand{\ALG@name}{Pseudocode}
\makeatother

\newcommand*\Let[2]{\State #1 $\gets$ #2}
\MakeRobust{\Call}
\algrenewcommand\algorithmicrequire{\textbf{Prekondisi:}}
\algrenewcommand\algorithmicensure{\textbf{Postcondition:}}
