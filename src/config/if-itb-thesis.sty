%-------------------------------------------------------------------%
%
% Konfigurasi dokumen LaTeX untuk laporan tesis IF ITB
%
% @author Petra Novandi
%
%-------------------------------------------------------------------%
%
% Berkas asli berasal dari Steven Lolong
%
%-------------------------------------------------------------------%

%
% Ukuran kertas
%
\special{papersize=210mm,297mm}


%
% Used packages
%
\usepackage[top=3cm,bottom=4cm,left=4cm,right=3cm]{geometry} % Setting margin
\usepackage[bahasa]{babel}      % Judul bahasa Indonesia
\usepackage[utf8]{inputenc}     % Encoding
\usepackage[natbibapa]{apacite} % citation: natbib dengan format apacite
\usepackage[dvipsnames]{xcolor} % Using color
\usepackage{mathptmx}
\usepackage{csquotes}
\usepackage{graphicx}
\usepackage{titling}
\usepackage{blindtext}          % Lorem ipsum filling
\usepackage{sectsty}
\usepackage{chngcntr}
\usepackage{etoolbox}
\usepackage{hyperref}           % Package untuk link di daftar isi.
\usepackage{titlesec}           % Package Format judul
\usepackage{parskip}
\usepackage{ragged2e}
\usepackage{times}              % Font yang dipake
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{caption}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{textcase}
\usepackage{setspace}
\usepackage{afterpage}
\usepackage{amsmath,amsfonts}
\usepackage{hyperref}
\usepackage{hypcap}
\usepackage{todonotes}
\usepackage{fancyvrb}
\usepackage{relsize}
\usepackage{tocloft}
\usepackage{pgfplots}
\usepackage{multirow}

%
% Setting ToC
%
% \titleformat{\section}{\large\MakeUppercase}{\thesection}{1em}{}
\renewcommand{\cftbeforetoctitleskip}{0em}
\renewcommand{\cfttoctitlefont}{\hfill\Large\bfseries\MakeUppercase}
\renewcommand{\cftaftertoctitle}{\hfill\hfill}

\renewcommand{\cftbeforeloftitleskip}{0em}
\renewcommand{\cftloftitlefont}{\hfill\Large\bfseries\MakeUppercase}
\renewcommand{\cftafterloftitle}{\hfill}

\renewcommand{\cftbeforelottitleskip}{0em}
\renewcommand{\cftlottitlefont}{\hfill\Large\bfseries\MakeUppercase}
\renewcommand{\cftafterlottitle}{\hfill}

\renewcommand{\cftchappresnum}{BAB\space}
\renewcommand{\cftchapnumwidth}{5em}


% /////////////////////////////////////////////////////////
% \usepackage{appendix}
\newcommand{\listappendixname}{Daftar Lampiran}
\newlistof{appendix}{app}{\listappendixname}
\setcounter{appdepth}{2}

\renewcommand{\theappendix}{\Alph{appendix}}
\renewcommand{\cftappendixpresnum}{Lampiran\space}
\renewcommand{\cftappendixnumwidth}{1in}

\renewcommand{\cftbeforeapptitleskip}{0em}
\renewcommand{\cftapptitlefont}{\hfill\Large\bfseries\MakeUppercase}
\renewcommand{\cftafterapptitle}{\hfill\hfill}

\renewcommand{\appendix}[1]{%
  \refstepcounter{appendix}%
  \chapter{Lampiran\space\theappendix\space #1}%
  \addcontentsline{app}{appendix}{\protect\numberline{\theappendix}#1}%
  % \par
}


% Hyphenation
\righthyphenmin=62
\lefthyphenmin=62
% \hyphenpenalty=10000
% \exhyphenpenalty=10000

%
% Ubah Citation menjadi bahasa Indonesia.
%
\bibliographystyle{apacite}
\renewcommand{\BBAA}{dan}  % between authors in parenthetical cites and ref. list
\renewcommand{\BBAB}{dan}  % between authors in in-text citation
\renewcommand{\BAnd}{dan}  % for ``Ed. \& Trans.'' in ref. list
\renewcommand{\BOthers}{dkk}


\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}


\makeatletter
\def\lst@numbersymbol{}
\lst@Key{numbersymbol}{}{\def\lst@numbersymbol{#1}}
\lst@Key{numbers}{none}{%
    \let\lst@PlaceNumber\@empty
    \lstKV@SwitchCases{#1}%
    {none&\\%
     left&\def\lst@PlaceNumber{\llap{\normalfont
                \lst@numberstyle{\thelstnumber\lst@numbersymbol}\kern\lst@numbersep}}\\%
     right&\def\lst@PlaceNumber{\rlap{\normalfont
                \kern\linewidth \kern\lst@numbersep
                \lst@numberstyle{\lst@numbersymbol\thelstnumber}}}%
    }{\PackageError{Listings}{Numbers #1 unknown}\@ehc}}
\makeatother

\renewcommand{\lstlistingname}{\textit{Source Code}}% Listing -> Algorithm
\renewcommand{\lstlistlistingname}{Daftar of \lstlistingname s}

\lstset{
    float=tp,
    floatplacement=tbp,
    abovecaptionskip=-5pt,
    breaklines=true,
    breakatwhitespace=false,
    frame=single,
    xleftmargin=2em,
    framexleftmargin=1.5em,
    numbersep=1.5em,
    numbers=left,
    numbersymbol=:,
    numberstyle=\tiny\color{gray!75!black},
    stepnumber=1,
    language=C,
    basicstyle=\linespread{1.15}\small\ttfamily\color{black},
    keywordstyle=\bfseries\color{green!40!black},
    commentstyle=\itshape\color{purple!40!black},
    stringstyle=\color{orange},
}
\lstMakeShortInline[columns=fixed]|

% ===============================================
\usepackage[chapter]{algorithm}
\usepackage{algorithmicx}
\usepackage[noend]{algpseudocode}

\makeatletter
 \renewcommand{\ALG@name}{Pseudocode}
\makeatother

% \renewcommand{\thealgorithm}{\arabic{chapter}.\arabic{algorithm}}
% \renewcommand{\algorithmicxname}{Pseudocode}%
\newcommand*\Let[2]{\State #1 $\gets$ #2}
\MakeRobust{\Call}
\algrenewcommand\algorithmicrequire{\textbf{Prekondisi:}}
\algrenewcommand\algorithmicensure{\textbf{Postcondition:}}


%
% Setting include file code/data untuk lampiran
%
% redefine \VerbatimInput
\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}{
  fontsize=\relsize{-2},
  baselinestretch=0.75,
  frame=lines,  % top and bottom rule only
  framesep=1.5em, % separation between frame and text
  labelposition=topline,
}

%
% Setting format judul
%
\chapterfont{\centering \Large}
\titleformat{\chapter}[display]
  {\Large\centering\bfseries}
  {\chaptertitlename\ \thechapter}{0pt}
    {\Large\bfseries\uppercase}
\titlespacing*{\chapter}{0pt}{-25pt}{40pt}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}

\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\titlespacing*{\section} {0pt}{2.5ex plus 1ex minus .2ex}{1.3ex plus .2ex}
\titlespacing*{\subsection} {0pt}{2.25ex plus 1ex minus .2ex}{0.5ex plus .2ex}


%
% Setting nomor pada subbsubbab di body document dan ToC
%
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

%
% Counter untuk figure dan table.
%
\counterwithin{figure}{chapter}
\counterwithin{table}{chapter}

%
% Line satu setengah spasi
%
\renewcommand{\baselinestretch}{1.5}

\renewcommand{\arraystretch}{1.2}
\renewcommand{\lightrulewidth}{0.02em}
\renewcommand{\heavyrulewidth}{0.1em}
